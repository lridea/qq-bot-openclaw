# å¸¸è§é—®é¢˜ (FAQ)

æœ¬æ–‡æ¡£æ”¶é›†äº†ä½¿ç”¨ QQ Bot - OpenClaw è¿‡ç¨‹ä¸­çš„å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆã€‚

## ðŸ“‹ ç›®å½•

- [å®‰è£…é—®é¢˜](#å®‰è£…é—®é¢˜)
- [é…ç½®é—®é¢˜](#é…ç½®é—®é¢˜)
- [è¿è¡Œé—®é¢˜](#è¿è¡Œé—®é¢˜)
- [åŠŸèƒ½é—®é¢˜](#åŠŸèƒ½é—®é¢˜)
- [æ€§èƒ½é—®é¢˜](#æ€§èƒ½é—®é¢˜)
- [å…¶ä»–é—®é¢˜](#å…¶ä»–é—®é¢˜)

---

## å®‰è£…é—®é¢˜

### Q1: Python ç‰ˆæœ¬ä¸å¯¹æ€Žä¹ˆåŠžï¼Ÿ

**é—®é¢˜ï¼š**
```
SyntaxError: invalid syntax
```

**è§£å†³ï¼š**
1. æ£€æŸ¥ Python ç‰ˆæœ¬ï¼š
   ```bash
   python --version
   ```
2. ç¡®ä¿ç‰ˆæœ¬ >= 3.8
3. å¦‚æžœç‰ˆæœ¬è¿‡ä½Žï¼Œå‡çº§ Pythonï¼š
   - **Windows:** é‡æ–°ä¸‹è½½å®‰è£…æœ€æ–°ç‰ˆ
   - **Linux:** 
     ```bash
     sudo apt install python3.9
     ```

---

### Q2: pip å®‰è£…ä¾èµ–å¤±è´¥ï¼Ÿ

**é—®é¢˜ï¼š**
```
ERROR: Could not find a version that satisfies the requirement...
```

**è§£å†³ï¼š**
1. å‡çº§ pipï¼š
   ```bash
   python -m pip install --upgrade pip
   ```
2. ä½¿ç”¨å›½å†…é•œåƒï¼š
   ```bash
   pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
   ```

---

### Q3: Windows ä¸Šè™šæ‹ŸçŽ¯å¢ƒåˆ›å»ºå¤±è´¥ï¼Ÿ

**é—®é¢˜ï¼š**
```
Unable to create virtual environment
```

**è§£å†³ï¼š**
1. ç¡®ä¿å®‰è£…äº† virtualenvï¼š
   ```cmd
   pip install virtualenv
   ```
2. æ‰‹åŠ¨åˆ›å»ºï¼š
   ```cmd
   python -m venv venv
   ```

---

## é…ç½®é—®é¢˜

### Q4: .env æ–‡ä»¶æ‰¾ä¸åˆ°ï¼Ÿ

**é—®é¢˜ï¼š**
```
FileNotFoundError: .env not found
```

**è§£å†³ï¼š**
1. å¤åˆ¶ç¤ºä¾‹æ–‡ä»¶ï¼š
   ```bash
   cp .env.example .env
   ```
2. ç¼–è¾‘ `.env` å¡«å†™é…ç½®

---

### Q5: OpenClaw API Key æ— æ•ˆï¼Ÿ

**é—®é¢˜ï¼š**
```
âŒ OpenClaw API é”™è¯¯: HTTP 401
```

**è§£å†³ï¼š**
1. æ£€æŸ¥ API Key æ˜¯å¦æ­£ç¡®
2. è”ç³» OpenClaw é‡æ–°èŽ·å–
3. ç¡®è®¤æ²¡æœ‰å¤šä½™ç©ºæ ¼æˆ–æ¢è¡Œ

---

### Q6: è¶…çº§ç®¡ç†å‘˜é…ç½®ä¸ç”Ÿæ•ˆï¼Ÿ

**é—®é¢˜ï¼š**
è®¾ç½®äº†è¶…çº§ç®¡ç†å‘˜ä½†æ— æ³•ä½¿ç”¨ç®¡ç†å‘˜å‘½ä»¤

**è§£å†³ï¼š**
1. æ£€æŸ¥é…ç½®æ ¼å¼ï¼š
   ```ini
   # æ­£ç¡®æ ¼å¼
   SUPERUSERS=["123456789", "987654321"]
   
   # é”™è¯¯æ ¼å¼
   SUPERUSERS=123456789
   ```
2. é‡å¯æœºå™¨äººä½¿é…ç½®ç”Ÿæ•ˆ

---

## è¿è¡Œé—®é¢˜

### Q7: æœºå™¨äººå¯åŠ¨å¤±è´¥ï¼Ÿ

**é—®é¢˜ï¼š**
```
âŒ æœºå™¨äººå¯åŠ¨å¤±è´¥
```

**è§£å†³ï¼š**
1. æ£€æŸ¥æ—¥å¿—æ–‡ä»¶
2. ç¡®è®¤é…ç½®æ–‡ä»¶æ­£ç¡®
3. æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨ï¼š
   ```bash
   # Linux/Mac
   lsof -i:8080
   
   # Windows
   netstat -ano | findstr :8080
   ```

---

### Q8: æ— æ³•è¿žæŽ¥åˆ° NapCatï¼Ÿ

**é—®é¢˜ï¼š**
```
âŒ WebSocket è¿žæŽ¥å¤±è´¥
```

**è§£å†³ï¼š**
1. ç¡®è®¤ NapCat æ­£åœ¨è¿è¡Œ
2. æ£€æŸ¥ WebSocket åœ°å€ï¼š
   ```ini
   NAPCAT_WS_URL=ws://127.0.0.1:3001
   ```
3. æ£€æŸ¥ NapCat é…ç½®ä¸­çš„åå‘ WebSocket åœ°å€

---

### Q9: æœºå™¨äººä¸å“åº”æ¶ˆæ¯ï¼Ÿ

**é—®é¢˜ï¼š**
å‘é€æ¶ˆæ¯åŽæ— å›žå¤

**è§£å†³ï¼š**
1. ç¡®ä¿åœ¨ç¾¤é‡Œ @æœºå™¨äºº
2. æ£€æŸ¥æœºå™¨äººæ˜¯å¦åœ¨çº¿
3. æŸ¥çœ‹æ—¥å¿—æŽ’æŸ¥é”™è¯¯
4. ç¡®è®¤ NapCat å’Œ NoneBot éƒ½åœ¨è¿è¡Œ

---

## åŠŸèƒ½é—®é¢˜

### Q10: API è°ƒç”¨è¶…æ—¶ï¼Ÿ

**é—®é¢˜ï¼š**
```
âŒ è¯·æ±‚è¶…æ—¶ï¼Œè¯·ç¨åŽå†è¯•
```

**è§£å†³ï¼š**
1. æ£€æŸ¥ç½‘ç»œè¿žæŽ¥
2. å¢žåŠ è¶…æ—¶æ—¶é—´ï¼š
   ```ini
   OPENCLAW_API_TIMEOUT=60
   ```
3. è”ç³» OpenClaw æ£€æŸ¥æœåŠ¡çŠ¶æ€

---

### Q11: æœºå™¨äººå›žå¤æ…¢ï¼Ÿ

**é—®é¢˜ï¼š**
å“åº”æ—¶é—´è¿‡é•¿

**è§£å†³ï¼š**
1. æ£€æŸ¥ç½‘ç»œå»¶è¿Ÿ
2. æ£€æŸ¥æœåŠ¡å™¨è´Ÿè½½
3. ä¼˜åŒ–ç½‘ç»œè¿žæŽ¥
4. è”ç³» OpenClaw ä¼˜åŒ–æœåŠ¡

---

### Q12: æ— æ³•è¯»å–æ–‡ä»¶/æ‰§è¡Œå‘½ä»¤ï¼Ÿ

**é—®é¢˜ï¼š**
æœºå™¨äººæç¤ºæ— æ³•è®¿é—®æ–‡ä»¶æˆ–æ‰§è¡Œå‘½ä»¤

**è§£å†³ï¼š**
1. ç¡®è®¤è¿™æ˜¯ OpenClaw æœåŠ¡å™¨çš„åŠŸèƒ½
2. æ–‡ä»¶å¿…é¡»åœ¨ OpenClaw æœåŠ¡å™¨ä¸Š
3. å‘½ä»¤åœ¨ OpenClaw æœåŠ¡å™¨ä¸Šæ‰§è¡Œ
4. ä¸æ˜¯åœ¨æœ¬åœ°æ‰§è¡Œ

---

## æ€§èƒ½é—®é¢˜

### Q13: å†…å­˜å ç”¨è¿‡é«˜ï¼Ÿ

**é—®é¢˜ï¼š**
æœºå™¨äººå ç”¨å¤§é‡å†…å­˜

**è§£å†³ï¼š**
1. æ£€æŸ¥æ˜¯å¦æœ‰å†…å­˜æ³„æ¼
2. é‡å¯æœºå™¨äºº
3. é™åˆ¶æ—¥å¿—æ–‡ä»¶å¤§å°
4. å‡å°‘å¹¶å‘è¿žæŽ¥æ•°

---

### Q14: CPU å ç”¨è¿‡é«˜ï¼Ÿ

**é—®é¢˜ï¼š**
CPU ä½¿ç”¨çŽ‡å¼‚å¸¸

**è§£å†³ï¼š**
1. æ£€æŸ¥æ—¥å¿—çº§åˆ«ï¼ˆDEBUG ä¼šå ç”¨æ›´å¤šèµ„æºï¼‰
2. å‡å°‘æ¶ˆæ¯å¤„ç†é¢‘çŽ‡
3. ä¼˜åŒ–æ’ä»¶ä»£ç 
4. å‡çº§ç¡¬ä»¶

---

## å…¶ä»–é—®é¢˜

### Q15: å¦‚ä½•æ›´æ–°æœºå™¨äººï¼Ÿ

**è§£å†³ï¼š**
```bash
cd qq-bot-openclaw
git pull
pip install -r requirements.txt --upgrade
```

---

### Q16: å¦‚ä½•å¤‡ä»½æ•°æ®ï¼Ÿ

**è§£å†³ï¼š**
å®šæœŸå¤‡ä»½ä»¥ä¸‹æ–‡ä»¶ï¼š
- `.env`ï¼ˆé…ç½®æ–‡ä»¶ï¼‰
- `data/`ï¼ˆæ•°æ®ç›®å½•ï¼Œå¦‚æžœæœ‰ï¼‰
- `logs/`ï¼ˆæ—¥å¿—æ–‡ä»¶ï¼Œå¯é€‰ï¼‰

---

### Q17: å¦‚ä½•æŸ¥çœ‹æ—¥å¿—ï¼Ÿ

**è§£å†³ï¼š**
1. æŽ§åˆ¶å°è¾“å‡ºï¼ˆå®žæ—¶ï¼‰
2. æ—¥å¿—æ–‡ä»¶ï¼ˆå¦‚æžœé…ç½®ï¼‰ï¼š
   ```bash
   tail -f logs/bot.log
   ```

---

### Q18: å¦‚ä½•æ·»åŠ è‡ªå®šä¹‰å‘½ä»¤ï¼Ÿ

**è§£å†³ï¼š**
åœ¨ `plugins/` ç›®å½•åˆ›å»ºæ–°æ’ä»¶ï¼š

```python
from nonebot import on_command

my_cmd = on_command("mycommand")

@my_cmd.handle()
async def handle():
    await my_cmd.send("è‡ªå®šä¹‰å‘½ä»¤å“åº”")
```

---

### Q19: æœºå™¨äººè¢«è¸¢å‡ºç¾¤ï¼Ÿ

**åŽŸå› ï¼š**
- ç¾¤ç®¡ç†å‘˜æ‰‹åŠ¨è¸¢å‡º
- è§¦å‘ç¾¤è§„è¢«è‡ªåŠ¨è¸¢å‡º
- è´¦å·å¼‚å¸¸

**è§£å†³ï¼š**
1. è”ç³»ç¾¤ç®¡ç†å‘˜é‡æ–°é‚€è¯·
2. æ£€æŸ¥æœºå™¨äººè¡Œä¸ºæ˜¯å¦è¿è§„
3. æ£€æŸ¥è´¦å·çŠ¶æ€

---

### Q20: å¦‚ä½•åœ¨å¤šä¸ªç¾¤ä½¿ç”¨ï¼Ÿ

**è§£å†³ï¼š**
æœºå™¨äººé»˜è®¤æ”¯æŒæ‰€æœ‰ç¾¤èŠï¼š
1. å°†æœºå™¨äººæ‹‰å…¥ç¾¤
2. åœ¨ç¾¤é‡Œ @æœºå™¨äºº å³å¯ä½¿ç”¨
3. æ— éœ€é¢å¤–é…ç½®

---

### Q21: å¦‚ä½•é™åˆ¶ä½¿ç”¨é¢‘çŽ‡ï¼Ÿ

**è§£å†³ï¼š**
åœ¨æ’ä»¶ä¸­æ·»åŠ é¢‘çŽ‡é™åˆ¶ï¼š

```python
from nonebot import on_message
from datetime import datetime, timedelta

# ç®€å•çš„é¢‘çŽ‡é™åˆ¶
last_use = {}

async def check_rate(user_id: str) -> bool:
    now = datetime.now()
    if user_id in last_use:
        if now - last_use[user_id] < timedelta(seconds=5):
            return False
    last_use[user_id] = now
    return True

chat = on_message()

@chat.handle()
async def handle(event):
    if not await check_rate(event.get_user_id()):
        await chat.send("è¯·å‹¿é¢‘ç¹è°ƒç”¨")
        return
    # æ­£å¸¸å¤„ç†
```

---

### Q22: Windows é˜²ç«å¢™æ‹¦æˆªï¼Ÿ

**é—®é¢˜ï¼š**
Windows æç¤ºé˜²ç«å¢™æ‹¦æˆª

**è§£å†³ï¼š**
1. é€‰æ‹©"å…è®¸è®¿é—®"
2. æˆ–åœ¨é˜²ç«å¢™è®¾ç½®ä¸­æ·»åŠ ä¾‹å¤–

---

### Q23: Linux ä¸Šæ— æ³•è¿è¡Œï¼Ÿ

**é—®é¢˜ï¼š**
```
Permission denied
```

**è§£å†³ï¼š**
```bash
chmod +x start.sh
chmod +x napcat
```

---

### Q24: å¦‚ä½•èŽ·å–å¸®åŠ©ï¼Ÿ

**è§£å†³ï¼š**
1. æŸ¥çœ‹æ–‡æ¡£ï¼š
   - [éƒ¨ç½²æŒ‡å—](DEPLOYMENT.md)
   - [NapCat é…ç½®](NAPCAT.md)
2. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶
3. æäº¤ Issue
4. è”ç³» OpenClaw

---

### Q25: æœºå™¨äººè´¦å·è¢«å°ï¼Ÿ

**é¢„é˜²æŽªæ–½ï¼š**
1. ä½¿ç”¨æ–°æ³¨å†Œçš„ QQ å·
2. ä¸è¦å‘é€åžƒåœ¾ä¿¡æ¯
3. æŽ§åˆ¶æ¶ˆæ¯é¢‘çŽ‡
4. é¿å…æ•æ„Ÿå†…å®¹

**è§£å†³ï¼š**
1. è”ç³»è…¾è®¯å®¢æœç”³è¯‰
2. æ›´æ¢æ–°çš„ QQ å·

---

## æ²¡æœ‰æ‰¾åˆ°ä½ çš„é—®é¢˜ï¼Ÿ

å¦‚æžœä½ çš„é—®é¢˜ä¸åœ¨åˆ—è¡¨ä¸­ï¼š

1. **æŸ¥çœ‹æ—¥å¿—**
   - å¤§å¤šæ•°é”™è¯¯éƒ½ä¼šåœ¨æ—¥å¿—ä¸­æ˜¾ç¤º

2. **æ£€æŸ¥é…ç½®**
   - ç¡®è®¤æ‰€æœ‰é…ç½®é¡¹éƒ½æ­£ç¡®

3. **æäº¤ Issue**
   - åœ¨ GitHub ä¸Šæäº¤è¯¦ç»†çš„é—®é¢˜æè¿°
   - é™„ä¸Šé”™è¯¯æ—¥å¿—

4. **è”ç³» OpenClaw**
   - ç›´æŽ¥è”ç³» OpenClaw èŽ·å–å¸®åŠ©

---

**å¸Œæœ›è¿™äº›è§£ç­”èƒ½å¸®åŠ©ä½ è§£å†³é—®é¢˜ï¼** ðŸ¦ž
